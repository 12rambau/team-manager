{% extends 'layout.html.twig' %}

{% block title %}Blog index{% endblock %}

{% block content %}

<div class="jumbotron text-center">
	<h1>Blog Posts</h1>
</div>

<div class="container">
	<div class="row flex">
		{% for post in posts %}
			<div class="col-4">
				<div class="card">
					<!-- <img class="card-img-top" src=".../100px180/" alt="Card image cap"> -->
					<div class="card-body">
						<h5 class="card-title">{{ post.title }}</h5>
						<div class="small text-muted row">
							<p class="text-left col-6">by <em>{{ post.author.username }}</em></p>
							<p class="text-right col-6">{{ post.publishDate|date('d/m/Y') }}</p>
						</div>
						<p class="card-text">{{ post.short|slice(0,150)|raw}}</p>
						<a href="{{ path('blog-view', { 'slug':post.slug }) }}" class="btn btn-primary btn-block">view</a>
						{% if post.active == false %}
							<hr/>
							<p class="alert alert-danger text-center">The post is not yet public</p>
						{% endif %}
					</div>
				</div>
			</div>
		{% else %}
		<div class="card">
			<div class="card-body">
				<h2 class="card-title">no Post (yet!)</h2>
			</div>
		</div>
		{% endfor %}
	</div>
</div>

{% endblock %}

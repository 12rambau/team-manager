import $ from 'jquery'

/* obsolete
function allowDrop(ev) {
    ev.preventDefault();
    if (ev.target.id.match("drag-[0-2]")) {
        var color = $(ev.target).parent().attr('data-color');
        $(ev.target).parent().addClass("bg-" + color);
    }
}./

/* obsolete
function disableDrop(ev) {
    ev.preventDefault();
    if (ev.target.id.match("drag-[0-2]")) {
        var color = $(ev.target).parent().attr('data-color');
        $(ev.target).parent().removeClass("bg-" + color);
    }
}*/

/* obsolete
function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
}*/


/**
 * @param {HTMLElement} user The span tha trigger the droppable
 * @param {HTMLElement} drop the div that host the drop
 */
export function drop(user, drop) {

    var userIndex = user.data('userIndex');
    // 0 is for true, 1 for false (autogenerated by symfony)
    var value = drop.data('value');

    //look for the custom button and trigger a click
    $("#button-participation-"+value+"-"+userIndex).trigger('click');
}

/**
 * 
 * @param {HTMLElement} drop The div that host the drop
 */
export function changeBg(drop){
    var color = drop.data('color');
    $(drop).toggleClass('bg-outline-'+color);
    $(drop).toggleClass('bg-'+color);
}